<!DOCTYPE html>
<html lang="en">
<header>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
    
</header>
<body>
    <script>

    console.log(game());

    // 5-MATCH GAME 
    function game(computerScore, userScore, score) {
        
        var userScore = 0;
        var computerScore = 0;

        // RUN for 5 MATCHES  
        for (let i=1; i<=5; i++) {

            let outcome = playRound();

            if (outcome == "win") {
                userScore = userScore + 1;
                var score = "Round " + i + ": You have won " + userScore + " rounds. And the computer has won " + computerScore + " rounds.";
                console.log(score);}
            
            else if (outcome == "lose") {
                computerScore = computerScore + 1;
                var score = "Round " + i + ": You have won " + userScore + " rounds. And the computer has won " + computerScore + " rounds.";
                console.log(score);}

            else if (outcome == "error") {
                i = i-1;
                var score = "Hmm, something went wrong. Try again.";
                console.log(score);}

            else {
                i = i-1;
                var score = "Tie. Try again.";
                console.log(score);}
        }

        // REPORT FINAL WINNER
        if (userScore > computerScore) {
            console.log("YOU WIN!") }
        else { console.log("YOU LOSE!")}
    }
    
    // SINGLE ROUND 
    function playRound(computerSelection, userSelection) {

        // GET Computer's Random MOVE
        function getComputerChoice() {
            function RandomX() {
            let x = Math.random() * (3) + 0;
            return x;}
            
            x = RandomX();

            if (x <= 1) {computerSelection = "Rock";}
            else if (x <= 2) {computerSelection = "Paper";}
            else {computerSelection = "Scissors";}
            
            return computerSelection;
        }

        // GET User's Prompted MOVE
        userSelection = prompt ("What do you throw?");

        // STANDARDIZE User's MOVE 
        function capitalizeFirst (userSelection) {
            let lower = userSelection.toLowerCase();
            return lower[0].toUpperCase() + lower.slice(1);
            }
        userSelection = (capitalizeFirst(userSelection));


        // REPORT MOVES
        console.log("You: " + userSelection);
        console.log("Computer: " + getComputerChoice());

    // ASSESS OUTCOME 
     if (computerSelection === userSelection) { 
        return "tie";}

     else if (
        (computerSelection == "Rock" && userSelection == "Paper") || 
        (computerSelection == "Paper" && userSelection == "Scissors") ||
        (computerSelection == "Scissors" && userSelection == "Rock")) {
        return "win";
    }
    
     else if (
        (userSelection == "Rock" && computerSelection == "Paper") || 
        (userSelection == "Paper" && computerSelection == "Scissors") || 
        (userSelection == "Scissors" && computerSelection == "Rock")){
        return "lose";
    }
    
     else {
        return "error";} 
 }    
   
    </script>
   

</body>

</html> 